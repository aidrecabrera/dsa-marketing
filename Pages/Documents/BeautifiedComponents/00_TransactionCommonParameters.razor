@page "/transaction/commonparameters"

@using MudBlazor

<MudContainer>
    <MudCard>
        <MudCardContent>
            <MudSelect T="string" Label="Municipality" @bind-Value="selectedMunicipality">
                @foreach (var municipality in municipalities)
                {
                    <MudSelectItem T="string" Value="@municipality">@municipality</MudSelectItem>
                }
            </MudSelect>

            <MudSelect Label="Barangay" @bind-Value="selectedBarangay">
                @foreach (var barangay in GetBarangays(selectedMunicipality))
                {
                    <MudSelectItem Value="@barangay">@barangay</MudSelectItem>
                }
            </MudSelect>

            <div class="form-group">
                <MudTextField T="string" Label="Punong Barangay" HelperText="Punong Barangay for Transaction" HelperTextOnFocus="true" Variant="Variant.Text" @bind-Value="punongBarangay"/>
            </div>

            <div class="inspection-acceptance-report">
                <!-- Form fields -->
                <div class="form-group">
                    <MudTextField T="string" Label="Barangay Treasurer" HelperText="Barangay Treasurer for Transaction" HelperTextOnFocus="true" Variant="Variant.Text" @bind-Value="treasurerBarangay" />
                </div>
            </div>
            
        </MudCardContent>
    </MudCard>
</MudContainer>

@code {
    private string selectedMunicipality = "Matanao"; // Initialize with a default value
    private string selectedBarangay = "Asbang";                 // Property to capture the selected barangay
    private string punongBarangay = "";
    private string treasurerBarangay = "";
    // List of municipalities
    private List<string> municipalities = new List<string>
    {
        "Matanao",
        "Magsaysay",
        "Sarangani"
        // Add more municipalities as needed
    };

    // Dictionary to store barangays for each municipality
    private Dictionary<string, List<string>> barangays = new Dictionary<string, List<string>>
    {
        { "Matanao", new List<string>
            {
                "Asbang",
                "Asinan",
                "Bagumbayan",
                "Bangkal",
                "Buas",
                "Buri",
                "Camanchiles",
                "Ceboza",
                "Colonsabak",
                "Dongan-Pekong",
                "Kabasagan",
                "Kapok",
                "Kauswagan",
                "Kibao",
                "La Suerte",
                "Langa-an",
                "Lower Marber",
                "Cabligan (Managa)",
                "Manga",
                "New Katipunan",
                "New Murcia",
                "New Visayas",
                "Poblacion",
                "Saboy",
                "San Jose",
                "San Miguel",
                "San Vicente",
                "Saub",
                "Sinaragan",
                "Sinawilan",
                "Tamlangon",
                "Towak",
                "Tibongbong"
                // Add more barangays for Matanao as needed
            }
        },
        { "Magsaysay", new List<string>
            {
                "Poblacion",
                "Bacungan",
                "Balnate",
                "Barayong",
                "Blocon",
                "Dalawinon",
                "Dalumay",
                "Glamang",
                "Kanapolo",
                "Kasuga",
                "Mabini",
                "Malawanit",
                "New Ilocos",
                "New Opon",
                "San Isidro",
                "San Miguel",
                "Tacul",
                "Tagaytay",
                "Upper Bala"
                // Add more barangays for Magsaysay as needed
            }
        },
        { "Sarangani", new List<string>
            {
                "Balut Island",
                "Batuganding",
                "Konel",
                "Lipol",
                "Mabila (Poblacion)",
                "Tinina",
                "Gomtago",
                "Tagen",
                "Tucal",
                "Patuco (Sarangani Norte)",
                "Laker (Sarangani Sur)",
                "Camahual",
                "Camalig"
                // Add more barangays for Sarangani as needed
            }
        }
        // Add more municipalities and their barangays as needed
    };

    // Method to get the list of barangays based on the selected municipality
    private List<string> GetBarangays(string municipality)
    {
        if (barangays.ContainsKey(municipality))
        {
            return barangays[municipality];
        }
        return new List<string>();
    }
}
